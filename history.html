<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœå°‹ç´€éŒ„ - æ˜å¯Ÿç§‹æ¯«</title>
    <link rel="stylesheet" href="æ˜å¯Ÿç§‹æ¯«.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸ“œ æœå°‹ç´€éŒ„</h1>
            <p><a href="index.html" class="back-link">è¿”å›æœå°‹é </a></p>
        </header>

        <div class="history-page">
            <ul class="history-list"></ul>
            <button class="clear-history">æ¸…é™¤å…¨éƒ¨ç´€éŒ„</button>
        </div>
    </div>

    <script>
        const historyList = document.querySelector('.history-list');
        const clearBtn = document.querySelector('.clear-history');

        let searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];

        renderHistory();

        function renderHistory() {
            historyList.innerHTML = '';
            if (searchHistory.length === 0) {
                historyList.innerHTML = '<li class="no-history">ç›®å‰æ²’æœ‰æœå°‹ç´€éŒ„</li>';
                return;
            }
            searchHistory.forEach(term => {
                const li = document.createElement('li');
                li.textContent = term;
                li.title = 'é»æ“Šä»¥è¿”å›æœå°‹è©²é—œéµå­—';
                li.addEventListener('click', () => {
                    window.location.href = `index.html?search=${encodeURIComponent(term)}`;
                });

                const delBtn = document.createElement('button');
                delBtn.textContent = 'âœ–';
                delBtn.className = 'delete-btn';
                delBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    searchHistory = searchHistory.filter(t => t !== term);
                    localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
                    renderHistory();
                });

                li.appendChild(delBtn);
                historyList.appendChild(li);
            });
        }

        clearBtn.addEventListener('click', () => {
            if (confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰æœå°‹ç´€éŒ„å—ï¼Ÿ')) {
                searchHistory = [];
                localStorage.removeItem('searchHistory');
                renderHistory();
            }
        });
    </script>
</body>
</html>
